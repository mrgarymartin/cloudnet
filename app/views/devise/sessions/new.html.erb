<% title "Login" %>

<div class="container">
  <div class="pure-g">
    <div class="pure-u-1">
      <%= devise_error_messages! %>
    </div>
  </div>
  <div class="pure-g">
    <div class="pure-u-1">
      <%#= render partial: "shared/order_progress" if @location%>
    </div>
  </div>
  <div class="pure-g">
    <div class="pure-u-1-4">
      <%= render partial: "devise/shared/order_summary" if @location%>
    </div>
    <div class=<%= @location ? "pure-u-3-4" : "pure-u-1-2" %> >

      <div id="jg-registration-widget" class="pure-g sessions">  
        <%= form_for(resource, :as => resource_name, :url => session_path(resource_name), :html => { :class => "pure-u-1 form-devise", :role => "form" }) do |f| %>
          <header class="session-logo pure-u-1">
            <%= link_to ENV['BRAND_NAME'], root_path, { class: "pure-u-1", id: 'logoLarge'} %>
          </header>

          <dl>
            <dt class="jg-icon icon-user pure-u-1-8"></dt>
            <dd class="pure-u-7-8"><%= f.email_field :email, :autofocus => true, :class => "form-control", :placeholder => "Email Address" %></dd>
          </dl>
          <dl>
            <dt class="jg-icon icon-locked pure-u-1-8"></dt>
            <dd class="pure-u-7-8"><%= f.password_field :password, :class => "form-control", :placeholder => "Password" %></dd>
          </dl>
          <% if devise_mapping.rememberable? -%>
            <dl class="jg-rememberable">
              <dt class="pure-u-1-8"><%= f.check_box :remember_me, :type => "checkbox" %></dt>
              <dd class="pure-u-7-8">
                  <%= f.label :remember_me %>
              </dd>
            </dl>
          <% end -%>

          <dl>
            <dd id="session-action" class="pure-u-1-1"><%= f.button "Sign in", {id: 'session-button', :class => "btn btn-lg btn-primary btn-block jg-submit-button"} %></dd>
          </dl>
        <% end %>
      </div>  
    </div>    
  </div>  
</div>


<%= render "devise/shared/links" %>

<script>ga('send', 'event', 'Page', 'View', 'Login Page');</script>